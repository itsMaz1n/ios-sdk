--- !tapi-tbd
tbd-version:           4
targets:               [ armv7-ios, armv7s-ios, arm64-ios, arm64e-ios ]
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/MOVStreamIO.framework/MOVStreamIO
current-version:       1
compatibility-version: 1
exports:
  - targets:              [ armv7-ios, armv7s-ios, arm64-ios, arm64e-ios ]
    symbols:              [ _MIOCVCreatePixelBuffer,
                            _MIOCVPixelBufferGetBytesPerPixel,
                            _MIOCVPixelBufferGetBytesPerPixelOfPlane,
                            _MIOCVPixelBufferGetBytesPerPixelOfPlaneForFormat,
                            _MIOCVPixelBufferGetBytesPerPixelOfPlaneFromLookup,
                            _MIOCVPixelBufferGetBytesPerPixelOfPlaneFromLookupForFormat,
                            _MIOCVPixelBufferSetBytesPerPixelOfPlaneToLookup,
                            _MIOCVPixelBufferSetBytesPerPixelOfPlaneToLookupForFormat,
                            _MIOCVPixelBufferUsablePlaneCount,
                            _MIOKnownTrackTypeDescription, _MIOMakeFrame,
                            _MIOTrackTypeAlphaDataOnly, _MIOTrackTypeIRData,
                            _MIOTrackTypeNoVideoData,
                            _MIOTrackTypeRasterOrientedVideoData,
                            _MIOTrackTypeUnknown, _MIOVideoTrackTypeInfoFromUTI,
                            _MOVStreamIOVersionNumber,
                            _MOVStreamIOVersionNumberString,
                            _MOVStreamIOVersionString, __Z10timerStartv,
                            __Z17join_bayer_bufferPKtS0_S0_S0_Ptmmmmibb,
                            __Z18split_bayer_bufferPKtPtS1_S1_S1_mmmib,
                            __Z21join_bayer_buffer_yuvPKtS0_Ptmmmmmib,
                            __Z22split_bayer_buffer_yuvPKtPtS1_mmmmmi,
                            __Z24left_shift_uint16_bufferPKtPtmi,
                            __Z25right_shift_uint16_bufferPKtPtmi,
                            __Z27join_companded_bayer_bufferPKhS0_S0_S0_Phmmmmb,
                            __Z28split_companded_bayer_bufferPKhPhS1_S1_S1_mmmmm,
                            __Z31VTCompressionOutputCallbackImplPvS_ijP20opaqueCMSampleBuffer,
                            __Z32copy_alpha_channel_to_monochromePKtPtmmmm,
                            __Z32copy_monochrome_to_alpha_channelPKtPtmmmm,
                            __Z8timerEndy,
                            __ZN28MOVStreamHEVCLosslessEncoder11EncodeFrameEP10__CVBuffer6CMTimePK14__CFDictionaryPv,
                            __ZN28MOVStreamHEVCLosslessEncoder15isSessionClosedEv,
                            __ZN28MOVStreamHEVCLosslessEncoder16useQPCompressionEi,
                            __ZN28MOVStreamHEVCLosslessEncoder17invalidateSessionEv,
                            __ZN28MOVStreamHEVCLosslessEncoder22frameReorderingEnabledEv,
                            __ZN28MOVStreamHEVCLosslessEncoder25propogateColorAttachmentsEPK25opaqueCMFormatDescriptionP26OpaqueVTCompressionSession,
                            __ZN28MOVStreamHEVCLosslessEncoder4OpenEii10IMG_FORMATdPK25opaqueCMFormatDescriptionPFvPvS4_ijP20opaqueCMSampleBufferES4_,
                            __ZN28MOVStreamHEVCLosslessEncoder5CloseEv,
                            __ZN28MOVStreamHEVCLosslessEncoderC1Ev,
                            __ZN28MOVStreamHEVCLosslessEncoderC2Ev,
                            __ZN28MOVStreamHEVCLosslessEncoderD1Ev,
                            __ZN28MOVStreamHEVCLosslessEncoderD2Ev,
                            _kMIOAdditionalCompressionProperties,
                            _kMIOBufferCacheMode, _kMIOColorStreamBitrate,
                            _kMIOCustomEncoderConfig,
                            _kMIODefaultBufferCacheMode, _kMIODefaultsDomainName,
                            _kMIOEncodeAttachments, _kMIOErrorInfoStreamIdKey,
                            _kMIOExpectedFrameRateForStream,
                            _kMIOFrameAttachmentSerializationMode,
                            _kMIOHEVCQPValue, _kMIOMarksOutputTrackAsEnabled,
                            _kMIOPixelBufferExactBytesPerRow,
                            _kMIOPixelBufferPoolErrorDomain, _kMIOPixelFormat,
                            _kMIOProResEncodingQuality,
                            _kMIORawBayerRearrangeTypeKey,
                            _kMIOStreamConvertNonPlanarBuffersTo8bitMonochrome,
                            _kMIOStreamEncoderType, _kMIOStreamEncodingQuality,
                            _kMIOTimestampWhenWrittenToFileKey,
                            _kMIOUseSlimXCompression, _kMIOVideoTrackTypeInfo,
                            _kMIOVideoTransform, _kMOVStreamReaderErrorDomain,
                            _kMOVStreamReaderWarningDomain,
                            _kMOVStreamWriterErrorDomain,
                            _kMOVStreamWriterWarningDomain, _kStreamErrorDomain,
                            _kStreamWarningDomain, _kUnknownStreamID,
                            _kVersionedKeyModifier_Metadata, _mio_elf_hash ]
    objc-classes:         [ MIOLog, MIOPixelBufferPool, MIOPixelBufferUtility,
                            MIOVersion, MOVStreamCompandedRawBayerPostProcessor,
                            MOVStreamCompandedRawBayerPreProcessor,
                            MOVStreamDefaultPostProcessor,
                            MOVStreamDefaultPreProcessor, MOVStreamEncoderConfig,
                            MOVStreamFrame, MOVStreamFrameConverter,
                            MOVStreamFrameTransform, MOVStreamIOUtility,
                            MOVStreamL008ToNonPlanarPostProcessor,
                            MOVStreamL016Raw14PostProcessor,
                            MOVStreamL016Raw14PreProcessor,
                            MOVStreamMetalPixelBufferUtility,
                            MOVStreamNonPlanarToL008Processor, MOVStreamOptions,
                            MOVStreamOutputSettings,
                            MOVStreamPostProcessorFactory,
                            MOVStreamPreProcessorFactory,
                            MOVStreamRawBayerFromYUVPostProcessor,
                            MOVStreamRawBayerPostProcessor,
                            MOVStreamRawBayerPreProcessor,
                            MOVStreamRawBayerTo1stPlaneYUVPreProcessor,
                            MOVStreamRawBayerToYUVPreProcessor,
                            MOVStreamRawBayerToy416PreProcessor, MOVStreamReader,
                            MOVStreamReaderStreamOutput,
                            MOVStreamSampleBufferAndMetadata,
                            MOVStreamSampleTimeBuffer, MOVStreamSampleTimeList,
                            MOVStreamSampleTimeRangeBuffer,
                            MOVStreamSampleTimeRangeList, MOVStreamTimestamps,
                            MOVStreamVideoEncoderInterface, MOVStreamWriter,
                            MOVStreamWriterStateCancelled,
                            MOVStreamWriterStateCancelling,
                            MOVStreamWriterStateDrainFifo,
                            MOVStreamWriterStateFailed,
                            MOVStreamWriterStateFinishAVWriter,
                            MOVStreamWriterStateFinishQueues,
                            MOVStreamWriterStateFinished,
                            MOVStreamWriterStateForceFinish,
                            MOVStreamWriterStateInit,
                            MOVStreamWriterStatePrepareCancelling,
                            MOVStreamWriterStatePreparing,
                            MOVStreamWriterStateRecording,
                            MOVStreamWriterStreamStats,
                            MOVStreamy416ToRawBayerPostProcessor,
                            PixelBufferUtility ]
    objc-ivars:           [ MIOPixelBufferPool._pixelBufferPool,
                            MIOPixelBufferPool._poolAttributes,
                            MIOVersion._bugfix, MIOVersion._major,
                            MIOVersion._minor, MIOVersion._modifier,
                            MOVStreamDefaultPostProcessor._converter,
                            MOVStreamDefaultPostProcessor.bufferCacheMode,
                            MOVStreamDefaultPostProcessor.exactBytesPerRow,
                            MOVStreamDefaultPostProcessor.originalPixelFormat,
                            MOVStreamDefaultPostProcessor.removePadding,
                            MOVStreamEncoderConfig._codecType,
                            MOVStreamEncoderConfig._encoderSpecification,
                            MOVStreamEncoderConfig._sessionProperties,
                            MOVStreamFrame._cmTimeStamp, MOVStreamFrame._context,
                            MOVStreamFrame._pixelBuffer,
                            MOVStreamFrame._timeStamp,
                            MOVStreamFrameConverter._pool,
                            MOVStreamFrameConverter._transferSession,
                            MOVStreamFrameConverter._transferSessionUsageDisabled,
                            MOVStreamFrameTransform._bufferCacheMode,
                            MOVStreamFrameTransform._pool,
                            MOVStreamFrameTransform._rotation,
                            MOVStreamFrameTransform._rotationSession,
                            MOVStreamFrameTransform._transferSession,
                            MOVStreamL008ToNonPlanarPostProcessor._pool,
                            MOVStreamL016Raw14PostProcessor._l010OutputFormatRAW14L016,
                            MOVStreamL016Raw14PostProcessor._pool,
                            MOVStreamMetalPixelBufferUtility._enabled,
                            MOVStreamMetalPixelBufferUtility._metalCommandQueue,
                            MOVStreamMetalPixelBufferUtility._metalDevice,
                            MOVStreamMetalPixelBufferUtility._pipeLineStates,
                            MOVStreamOptions._debugMode,
                            MOVStreamOutputSettings._config,
                            MOVStreamOutputSettings._expectedFrameRate,
                            MOVStreamOutputSettings._settings,
                            MOVStreamOutputSettings._useCustomEncoderConfig,
                            MOVStreamRawBayerFromYUVPostProcessor._rawBayerMSBReplication,
                            MOVStreamRawBayerPostProcessor._rawBayerMSBReplication,
                            MOVStreamReader._bufferCacheMode,
                            MOVStreamReader._delegate,
                            MOVStreamReader._l010OutputFormatRAW14L016,
                            MOVStreamReader._metadataStreams,
                            MOVStreamReader._movVersion,
                            MOVStreamReader._orderedAudioStreamIds,
                            MOVStreamReader._orderedMetadataStreamIds,
                            MOVStreamReader._orderedSceneStreamIds,
                            MOVStreamReader._orderedVideoStreamIds,
                            MOVStreamReader._rawBayerMSBReplication,
                            MOVStreamReader._sampleStreams,
                            MOVStreamReader._skipEmptyEditVideoFrame,
                            MOVStreamReader.m_asset,
                            MOVStreamReader.m_assetReader,
                            MOVStreamReaderStreamOutput._assetReader,
                            MOVStreamReaderStreamOutput._assetTrack,
                            MOVStreamReaderStreamOutput._attachmentSerializationMode,
                            MOVStreamReaderStreamOutput._attachmentsAdaptor,
                            MOVStreamReaderStreamOutput._delegate,
                            MOVStreamReaderStreamOutput._determinedPixelFormat,
                            MOVStreamReaderStreamOutput._endOfStreamReached,
                            MOVStreamReaderStreamOutput._firstVideoFrameRead,
                            MOVStreamReaderStreamOutput._frameDuration,
                            MOVStreamReaderStreamOutput._futureAttachementsDuration,
                            MOVStreamReaderStreamOutput._futureAttachementsPts,
                            MOVStreamReaderStreamOutput._futureAttachmentsData,
                            MOVStreamReaderStreamOutput._isLegacyIMUTrack,
                            MOVStreamReaderStreamOutput._mediaType,
                            MOVStreamReaderStreamOutput._metadataAdaptors,
                            MOVStreamReaderStreamOutput._originalPixelFormat,
                            MOVStreamReaderStreamOutput._pixelFormatWasGuessed,
                            MOVStreamReaderStreamOutput._reader,
                            MOVStreamReaderStreamOutput._relatedStreamId,
                            MOVStreamReaderStreamOutput._relationSpecifier,
                            MOVStreamReaderStreamOutput._streamId,
                            MOVStreamReaderStreamOutput._streamOutput,
                            MOVStreamReaderStreamOutput._track,
                            MOVStreamReaderStreamOutput._trackTypeInfo,
                            MOVStreamReaderStreamOutput._transform,
                            MOVStreamReaderStreamOutput._version,
                            MOVStreamReaderStreamOutput.postProcessor,
                            MOVStreamSampleBufferAndMetadata._metadata,
                            MOVStreamSampleBufferAndMetadata._sampleBuffer,
                            MOVStreamSampleTimeBuffer._name,
                            MOVStreamSampleTimeBuffer._times,
                            MOVStreamSampleTimeList._cached_cmtimes,
                            MOVStreamSampleTimeList._cached_times,
                            MOVStreamSampleTimeList._name,
                            MOVStreamSampleTimeList._times,
                            MOVStreamSampleTimeList._timestamps,
                            MOVStreamSampleTimeRangeBuffer._ranges,
                            MOVStreamSampleTimeRangeList._cached_ranges,
                            MOVStreamSampleTimeRangeList._name,
                            MOVStreamSampleTimeRangeList._ranges,
                            MOVStreamTimestamps._assetTrack,
                            MOVStreamTimestamps._name,
                            MOVStreamTimestamps._shouldAppendEndOfStreamTimestamp,
                            MOVStreamTimestamps._shouldStartTimestampsAtZero,
                            MOVStreamTimestamps._timeList,
                            MOVStreamVideoEncoderInterface._customEncoderConfig,
                            MOVStreamVideoEncoderInterface._lastEncodingInfoFlags,
                            MOVStreamVideoEncoderInterface._lastEncodingStatus,
                            MOVStreamVideoEncoderInterface._pendingFrames,
                            MOVStreamVideoEncoderInterface.m_config,
                            MOVStreamVideoEncoderInterface.m_delegate,
                            MOVStreamVideoEncoderInterface.m_enableAVEHighPerformanceProfile,
                            MOVStreamVideoEncoderInterface.m_encoder,
                            MOVStreamVideoEncoderInterface.m_encoderInitialized,
                            MOVStreamVideoEncoderInterface.m_encodingQueue,
                            MOVStreamVideoEncoderInterface.m_expectedFrameRate,
                            MOVStreamVideoEncoderInterface.m_failedState,
                            MOVStreamVideoEncoderInterface.m_qpValue,
                            MOVStreamVideoEncoderInterface.m_stream,
                            MOVStreamWriter._avfAppendSignPostID,
                            MOVStreamWriter._baseMediaTimeScale,
                            MOVStreamWriter._bufferCacheMode,
                            MOVStreamWriter._canWriteData,
                            MOVStreamWriter._criticalError,
                            MOVStreamWriter._customEncoderConfigDelegate,
                            MOVStreamWriter._defaultAudioWritingBufferCapacity,
                            MOVStreamWriter._defaultMetadataWritingBufferCapacity,
                            MOVStreamWriter._defaultWritingBufferCapacity,
                            MOVStreamWriter._delegate,
                            MOVStreamWriter._finalConsume,
                            MOVStreamWriter._finishingMode,
                            MOVStreamWriter._finishingTimeout,
                            MOVStreamWriter._movieFragmentInterval,
                            MOVStreamWriter._perfLogAVF,
                            MOVStreamWriter._sessionStartTime,
                            MOVStreamWriter._state,
                            MOVStreamWriter._timeoutBlock,
                            MOVStreamWriter._timeoutQueue,
                            MOVStreamWriter._writeThread,
                            MOVStreamWriter._writeThreadCount,
                            MOVStreamWriter._writingSema,
                            MOVStreamWriter.legacyKeysMode,
                            MOVStreamWriter.m_assetWriter,
                            MOVStreamWriter.m_associatedMetadataDataMap,
                            MOVStreamWriter.m_delegateCallbackQueue,
                            MOVStreamWriter.m_enableAVEHighPerformanceProfile,
                            MOVStreamWriter.m_expectedFrameRate,
                            MOVStreamWriter.m_haveStartedSession,
                            MOVStreamWriter.m_lastPtsForAttachmentsStream,
                            MOVStreamWriter.m_lastPtsForMetadataStream,
                            MOVStreamWriter.m_lastPtsForStream,
                            MOVStreamWriter.m_metadataDataMap,
                            MOVStreamWriter.m_observingIsReady,
                            MOVStreamWriter.m_orderedMetadataStreamNames,
                            MOVStreamWriter.m_orderedStreamNames,
                            MOVStreamWriter.m_processingQueue,
                            MOVStreamWriter.m_realtime,
                            MOVStreamWriter.m_shouldOptimizeForNetworkUse,
                            MOVStreamWriter.m_streamDataMap,
                            MOVStreamWriter.m_videoTransform,
                            MOVStreamWriter.m_writeURL,
                            MOVStreamWriter.m_writingQueue,
                            MOVStreamWriter.movMetadataItems,
                            MOVStreamWriterStreamStats._attemptCount,
                            MOVStreamWriterStreamStats._fifoItemCount,
                            MOVStreamWriterStreamStats._visitCount,
                            MOVStreamWriterStreamStats._writeCount,
                            MOVStreamy416ToRawBayerPostProcessor._pool ]
...
