--- !tapi-tbd-v3
archs:                 [ armv7, armv7s, arm64, arm64e ]
platform:              ios
flags:                 [ flat_namespace ]
install-name:          /System/Library/PrivateFrameworks/CallHistory.framework/CallHistory
current-version:       2
compatibility-version: 1
objc-constraint:       retain_release
exports:
  - archs:                [ armv7, armv7s, arm64, arm64e ]
    symbols:              [ _CHCallInteractionsDidChangeDarwinNotification,
                            _CHCallScreenSharingTypeScreenShareOrRemoteControl,
                            _CHCallerIdAvailabilityAsString, _CHHash,
                            _CHSchemaGetCurrentVersion, _DeserializeTransactions,
                            _HandleInteractionsForDeserializedTransactions,
                            _ch_allEmails, _ch_allPhoneNumberLastFourDigits,
                            _ch_allPhoneNumbers, _createBackgroundTaskAssertion,
                            _createDirectoryAtPath, _getAppSupportDir,
                            _getAppSupportDirSandboxed, _getBoolAsString,
                            _getCHNotifyDataStoreChangeReasonAsString,
                            _getDBDirCreateOptions, _getDBLErrorCodeAsString,
                            _getDBMErrorCodeAsString, _getLoggedInUserName,
                            _getMobileUserDirectoryPath,
                            _getMobileUserLibraryDirectoryPath,
                            _getOperatingSystemVersion, _isCarrierBuild,
                            _isInternalBuild, _kCHCallCategoryAudio,
                            _kCHCallCategoryTTYDirect, _kCHCallCategoryTTYRelay,
                            _kCHCallCategoryVideo,
                            _kCHCallOccurrenceCallStatusKey,
                            _kCHCallOccurrenceCallTypeKey,
                            _kCHCallOccurrenceDataUsageKey,
                            _kCHCallOccurrenceDateKey,
                            _kCHCallOccurrenceDurationKey,
                            _kCHCallOccurrenceEmergencyImagesCountKey,
                            _kCHCallOccurrenceEmergencyVideosCountKey,
                            _kCHCallOccurrenceMediaTypeKey,
                            _kCHCallOccurrenceServiceProviderKey,
                            _kCHCallOccurrenceTTYTypeKey,
                            _kCHCallOccurrenceUniqueIdKey,
                            _kCHCallOccurrenceVerificationStatusKey,
                            _kCHCallStatusAll, _kCHCallStatusAllButMissed,
                            _kCHCallStatusAnsweredElsewhere,
                            _kCHCallStatusCancelled, _kCHCallStatusConnected,
                            _kCHCallStatusConnectedIncoming,
                            _kCHCallStatusConnectedLocally,
                            _kCHCallStatusConnectedOutgoing,
                            _kCHCallStatusIncoming, _kCHCallStatusMissed,
                            _kCHCallStatusOutgoing, _kCHCallStatusUnknown,
                            _kCHCallTypeAll, _kCHCallTypeFaceTime,
                            _kCHCallTypeFaceTimeAudio, _kCHCallTypeFaceTimeVideo,
                            _kCHCallTypeNormal, _kCHCallTypeTelephony,
                            _kCHCallTypeUnknown, _kCHCallTypeVOIP,
                            _kCHCallTypeVoicemail,
                            _kCHCoalescingStrategyCollapseIfEqual,
                            _kCHCoalescingStrategyRecents,
                            _kCHConfigurationCloudKitEnabled,
                            _kCHConfigurationKeepCallsTimeIntervalType,
                            _kCHDeferredSpotlightReindexingReasonKey,
                            _kCHFaceTimeBundleID,
                            _kCHFacetimeSearchableStatusKey,
                            _kCHLastReindexCompletionDateKey,
                            _kCHLimitCallKindsKey, _kCHLimitCallTypeKey,
                            _kCHLimitEndDateKey, _kCHLimitMediaTypeKey,
                            _kCHLimitProtectedBundleIDsKey,
                            _kCHLimitServiceProviderKey, _kCHLimitStartDateKey,
                            _kCHLimitTTYTypeKey, _kCHMobilePhoneBundleID,
                            _kCHServiceProviderFaceTime,
                            _kCHServiceProviderTelephony,
                            _kCHSpotlightIndexLocaleKey,
                            _kCHSpotlightIndexVersionKey, _kCHTimerIncomingKey,
                            _kCHTimerLifetimeKey, _kCHTimerOutgoingKey,
                            _kCallDBDirName, _kCallDBMLogDomain,
                            _kCallDBManagerDataStoreType,
                            _kCallDBPropertiesEntity, _kCallDBSharedUtilDomain,
                            _kCallHistoryCallRecordInsertedNotification,
                            _kCallHistoryDBName, _kCallHistoryDataStoreExtension,
                            _kCallHistoryDatabaseChangedNotification,
                            _kCallHistoryDatabaseInitializedKey,
                            _kCallHistoryDatabasePluginUpdateNotification,
                            _kCallHistoryDatabaseRemoteUpdateReadNotification,
                            _kCallHistoryObjectModelResourceExtension,
                            _kCallHistorySyncHelperReadyNotification,
                            _kCallHistoryTempDBName,
                            _kCallHistoryTimersChangedNotification,
                            _kCallRecordEntity,
                            _kCallUpdatePropertyAutoAnsweredReason,
                            _kCallUpdatePropertyBytesUsed,
                            _kCallUpdatePropertyCallStatus,
                            _kCallUpdatePropertyEmergencyMediaItem,
                            _kCallUpdatePropertyHasMessage,
                            _kCallUpdatePropertyOutgoingLocalParticipantUUID,
                            _kCallUpdatePropertyRead,
                            _kCallUpdatePropertyUniqueId,
                            _kMPSpotlightBundleIdentifier, _kMobileUser,
                            _kMoveCallRecordsFromTemporaryStoreNotitification,
                            _kPluginHelperServiceIdentifier,
                            _kShowsFaceTimeAudioCallsKey,
                            _kShowsFaceTimeVideoCallsKey,
                            _kShowsTelephonyCallsKey, _kSpotlightCallDayKey,
                            _kSpotlightIndexVersion, _kSpotlightItemTypeCall,
                            _kSpotlightItemTypeKey, _kSpotlightItemTypeVoicemail,
                            _kSpotlightLocalisedCallStatusKey,
                            _kSyncHelperServiceIdentifier, _kTmpDBLocationKey,
                            _maybeAppendStringWithSeparator,
                            _maybeLogVersionInfo, _notifyClientsOfEvent ]
    objc-classes:         [ CHCallFingerprint,
                            CHCallInteractionInProcessDataSource,
                            CHCallInteractionManager, CHConfiguration,
                            CHConfigurationAggregator, CHContactProvider,
                            CHDatabaseClientHandleManager, CHDelegateController,
                            CHDelegateManager, CHDeviceDataSource,
                            CHDeviceObserver, CHEmergencyMediaItem,
                            CHEntityMigrationPolicy, CHFeatureFlags, CHHandle,
                            CHLocalization, CHLogServer, CHLogger,
                            CHManagedCallMigrationPolicy,
                            CHManagedEmergencyMediaItemMigrationPolicy,
                            CHManagedHandle, CHManagedHandleMigrationPolicy,
                            CHManager, CHMockFeatureFlags, CHNotifyObserver,
                            CHPersistentContainer, CHPersistentStoreDescription,
                            CHPhoneBookIOSManager, CHPhoneNumber, CHPluginHelper,
                            CHProcessHandle, CHProtectedAppProvider, CHRecentCall,
                            CHSharedAddressBook, CHSpotlightSearchQueryUtilities,
                            CHSynchronizable, CHSynchronizedLoggable,
                            CHTransaction, CHUserConfiguration, CallDBManager,
                            CallDBManagerClient, CallDBManagerServer,
                            CallDBMetaInfo, CallDBProperties,
                            CallHistoryDBClientHandle, CallHistoryDBHandle,
                            CallRecord, DBManager, DBMigrationResult,
                            DeserializedTransaction, EmergencyMediaItem,
                            EncryptionTransformer, NotificationSender, SyncManager,
                            TransactionManager ]
    objc-ivars:           [ CHCallInteractionInProcessDataSource._accessorLock,
                            CHCallInteractionInProcessDataSource._callInteractionObserver,
                            CHCallInteractionInProcessDataSource._delegate,
                            CHCallInteractionManager._dataSource,
                            CHCallInteractionManager._delegateController,
                            CHConfiguration._dataSource,
                            CHConfiguration._delegateController,
                            CHConfigurationAggregator._configurations,
                            CHConfigurationAggregator._delegate,
                            CHConfigurationAggregator._queue,
                            CHContactProvider._dataSource,
                            CHDatabaseClientHandleManager._databaseClientHandle,
                            CHDelegateController._delegateLock,
                            CHDelegateController._delegateToQueue,
                            CHDelegateManager._accessorLock,
                            CHDelegateManager._delegateToQueue,
                            CHDeviceObserver._bootLockEnabled,
                            CHDeviceObserver._dataSource,
                            CHDeviceObserver._firstUnlockNotifyObserver,
                            CHDeviceObserver._queue,
                            CHEmergencyMediaItem._assetId,
                            CHEmergencyMediaItem._emergencyMediaType,
                            CHHandle._normalizedValue, CHHandle._type,
                            CHHandle._value, CHLogServer._accessorLock,
                            CHLogServer._logHandleToDomain, CHLogger._logHandle,
                            CHManager._cacheIsDirty,
                            CHManager._coalescingStrategy,
                            CHManager._featureFlags,
                            CHManager._finishedLoadingAllCalls,
                            CHManager._generateSyncTransactions,
                            CHManager._limitingCallKinds,
                            CHManager._limitingCallTypes,
                            CHManager._limitingEndDate,
                            CHManager._limitingStartDate,
                            CHManager._numberOfUnseenMissedCalls,
                            CHManager._phoneBookManager,
                            CHManager._postFetchingPredicate,
                            CHManager._preFetchingPredicate,
                            CHManager._protectedAppProvider,
                            CHManager._reCoalesce, CHManager._recentCalls,
                            CHManager._shouldLoadOlderCalls,
                            CHManager._showsFaceTimeAudioCalls,
                            CHManager._showsFaceTimeVideoCalls,
                            CHManager._showsProtectedApps,
                            CHManager._showsTelephonyCalls,
                            CHManager._syncManager,
                            CHManager._uncoalescedRecentCalls,
                            CHManager._uncoalescedUnFilteredRecentCalls,
                            CHMockFeatureFlags._mockCallHistorySearchEnabled,
                            CHMockFeatureFlags._mockIncreaseCallHistoryEnabled,
                            CHMockFeatureFlags._mockKeepCallsEnabled,
                            CHMockFeatureFlags._mockProtectedAppsEnabled,
                            CHNotifyObserver._callback, CHNotifyObserver._name,
                            CHNotifyObserver._queue, CHNotifyObserver._token,
                            CHPersistentStoreDescription._defaultPersistentStoreDescription,
                            CHPhoneBookIOSManager._contactStore,
                            CHPhoneNumber._digits,
                            CHPhoneNumber._formattedRepresentation,
                            CHPhoneNumber._formattedRepresentationAttempted,
                            CHPhoneNumber._isoCountryCode,
                            CHPhoneNumber._normalizedRepresentation,
                            CHPhoneNumber._normalizedRepresentationAttempted,
                            CHPluginHelper._connection,
                            CHPluginHelper._interface,
                            CHProtectedAppProvider._currentProcessHandle,
                            CHProtectedAppProvider.allowedProtectedAppBundleIDs,
                            CHProtectedAppProvider.delegate,
                            CHRecentCall._addressBookCallerIDMultiValueId,
                            CHRecentCall._addressBookRecordId,
                            CHRecentCall._answered,
                            CHRecentCall._autoAnsweredReason,
                            CHRecentCall._blockedByExtension,
                            CHRecentCall._blockedByExtensionName,
                            CHRecentCall._bytesOfDataUsed,
                            CHRecentCall._callCategory,
                            CHRecentCall._callDirectoryIdentityType,
                            CHRecentCall._callOccurrences,
                            CHRecentCall._callStatus, CHRecentCall._callType,
                            CHRecentCall._callerId,
                            CHRecentCall._callerIdAvailability,
                            CHRecentCall._callerIdFormatted,
                            CHRecentCall._callerIdIsBlocked,
                            CHRecentCall._callerIdLabel,
                            CHRecentCall._callerIdLocation,
                            CHRecentCall._callerName,
                            CHRecentCall._contactIdentifier,
                            CHRecentCall._contactRef,
                            CHRecentCall._conversationID, CHRecentCall._date,
                            CHRecentCall._devicePhoneId,
                            CHRecentCall._disconnectedCause,
                            CHRecentCall._duration,
                            CHRecentCall._emergencyMediaItems,
                            CHRecentCall._filteredOutReason,
                            CHRecentCall._handleType, CHRecentCall._hasMessage,
                            CHRecentCall._identityExtension,
                            CHRecentCall._imageURL, CHRecentCall._initiator,
                            CHRecentCall._isoCountryCode,
                            CHRecentCall._junkConfidence,
                            CHRecentCall._junkIdentificationCategory,
                            CHRecentCall._localParticipantUUID,
                            CHRecentCall._mediaType,
                            CHRecentCall._mobileCountryCode,
                            CHRecentCall._mobileNetworkCode,
                            CHRecentCall._mobileOriginated,
                            CHRecentCall._multiCall, CHRecentCall._name,
                            CHRecentCall._outgoingLocalParticipantUUID,
                            CHRecentCall._participantGroupUUID,
                            CHRecentCall._phoneBookManager, CHRecentCall._read,
                            CHRecentCall._remoteParticipantHandles,
                            CHRecentCall._screenSharingType,
                            CHRecentCall._serviceProvider,
                            CHRecentCall._timeToEstablish, CHRecentCall._ttyType,
                            CHRecentCall._uniqueId, CHRecentCall._unreadCount,
                            CHRecentCall._usedEmergencyVideoStreaming,
                            CHRecentCall._verificationStatus,
                            CHRecentCall._wasAutoAnswered,
                            CHRecentCall._wasEmergencyCall,
                            CHSharedAddressBook._addressBookCache,
                            CHSynchronizable._queue,
                            CHSynchronizedLoggable._logger,
                            CHSynchronizedLoggable._synchronizable,
                            CHTransaction._record,
                            CHTransaction._transactionType,
                            CallDBManager._dataStoreType,
                            CallDBManager._dbManager,
                            CallDBManager._deviceObserver,
                            CallDBManager._notifyDataStoreChangeReason,
                            CallDBManagerClient._helperConnection,
                            CallDBManagerClient._syncHelperReadyNotificationRef,
                            CallDBManagerServer._featureFlags,
                            CallDBMetaInfo._dbInfoPrefFile,
                            CallHistoryDBClientHandle._callsDidChangeNotifyObserver,
                            CallHistoryDBClientHandle._manager,
                            CallHistoryDBClientHandle._observerCallTimersRef,
                            CallHistoryDBClientHandle.dbStoreHandle,
                            CallHistoryDBHandle._callsDidChangeDarwinNotificationCount,
                            CallHistoryDBHandle._dataStoreAddedRef,
                            CallHistoryDBHandle._featureFlags,
                            CallHistoryDBHandle._moveCallRecordsFromTempStoreRef,
                            CallHistoryDBHandle._observerCallDBPropRef,
                            CallHistoryDBHandle._observerCallRecordRef,
                            CallHistoryDBHandle.callDBManager,
                            CallHistoryDBHandle.fCallDBPropertiesContext,
                            CallHistoryDBHandle.fCallRecordContext,
                            DBManager.fPersistentStoreCoordinator,
                            DBMigrationResult._dbVersion,
                            DBMigrationResult._errorCode,
                            DeserializedTransaction._call,
                            DeserializedTransaction._type,
                            NotificationSender._name,
                            NotificationSender._userInfo, SyncManager._dbHandle,
                            SyncManager._featureFlags,
                            SyncManager._transactionManager,
                            TransactionManager._connection,
                            TransactionManager._interface,
                            TransactionManager._queuedTransactions,
                            TransactionManager._syncHelperReadyNotificationRef ]
...
